<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>H√≠rek</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body class="hirek-body" style="background:url('hirek.jpg') center/cover fixed no-repeat;">
  
   <nav class="hi-navbar">
  <div class="hi-nav-inner">
    <a class="hi-brand" href="index.html">
      <span class="hi-brand-top">Heavenly</span><span class="hi-brand-bot">Inferno</span>
    </a>

    <button class="hi-burger" aria-label="Men√º" aria-expanded="false">
      <span></span><span></span><span></span>
    </button>

    <ul class="hi-links">
      <li><a href="index.html">F≈ëoldal</a></li>

      <li class="hi-drop">
        <button class="hi-drop-btn">Frakci√≥k</button>
        <div class="hi-drop-menu">
          <a class="angel" href="angyalok.html">Angyalok</a>
          <a class="mortal" href="halandok.html">Haland√≥k</a>
          <a class="demon" href="demonok.html">D√©monok</a>
        </div>
      </li>

      <li><a href="hirek.html">H√≠rek</a></li>
      <li><a href="rolunk.html">R√≥lunk</a></li>
      <li><a href="csatlakozas.html">Csatlakoz√°s</a></li>
      <li><a class="hi-discord" href="https://discord.gg/uNXEEj5Tbf" target="_blank" rel="noopener">Discord</a></li>
    </ul>
  </div>
</nav>
  <main class="hirek-content">
  <h1 class="hirek-title">üì∞ H√≠rek</h1>
  <div id="hirek-grid" class="hirek-grid"></div>
</main>

  <script>
(async function(){
  const res = await fetch("./hirek.json?ts="+Date.now(), { cache:"no-store" });
  const hirek = await res.json();

  // fix sorrend a kateg√≥ria oszlopokhoz
  const sorrend = ["angyalok","demonok","halandok","szerver","esemeny"];
  const nevek = {
    angyalok:"üëº Angyalok h√≠rei",
    demonok:"üòà D√©monok h√≠rei",
    halandok:"üßë‚Äçü§ù‚Äçüßë Haland√≥k h√≠rei",
    szerver:"üõ†Ô∏è Szerver h√≠rek",
    esemeny:"üéâ Esem√©nyek"
  };

  // csoportos√≠t√°s
  const katMap = {};
  hirek.forEach(h => {
    (katMap[h.kategori] ||= []).push(h);
  });

  // d√°tum szerint cs√∂kken≈ë (√∫jabb fel√ºl)
  Object.values(katMap).forEach(lista => {
    lista.sort((a,b)=> (b.datum||"").localeCompare(a.datum||""));
  });

  const grid = document.getElementById("hirek-grid");

  // oszlopok felrajzol√°sa a fix sorrendben ‚Äì l√©tez≈ë kateg√≥ri√°kra
  sorrend.forEach(kat=>{
    const lista = katMap[kat] || [];
    // √ºres oszlop is maradhat t√∂rzshelynek; ha nem kell, √©s lista.length==0, akkor return;

    const col = document.createElement("section");
    col.className = `hirek-col h-col-${kat}`;

    const header = document.createElement("div");
    header.className = "hirek-col-header";
    header.textContent = nevek[kat] || kat;

    const body = document.createElement("div");
    body.className = "hirek-col-body";

    lista.forEach(hir=>{
      const card = document.createElement("article");
      card.className = "hirek-item";
      card.innerHTML = `
        <h3>${hir.cim}</h3>
        <time>${hir.datum ?? ""}</time>
        <p>${hir.szoveg}</p>
      `;
      body.appendChild(card);
    });

    col.appendChild(header);
    col.appendChild(body);
    grid.appendChild(col);
  });
})();
</script>
</body>
</html>
